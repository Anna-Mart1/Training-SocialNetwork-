{"version":3,"sources":["redux/dialogsReducer.js","components/common/ObjectsHelper.js","redux/usersReducer.js","images/preloader.gif","components/hoc/withAuthRedirect.js","components/Users.module.css","components/Navbar/Navbar.module.css","api/api.js","components/common/FormControl.module.css","serviceWorker.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","login/login.jsx","App.js","index.js","components/common/formsControl.js","components/common/validators.js","components/common/preloader.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["initialState","dialogs","id","name","messages","message","newMessageText","onSendMessage","type","onChangeNewMessage","text","newText","dialogsReducer","state","action","updateObjectInArray","items","itemId","propName","newObjProps","map","u","totalCount","usersCount","currentPage","users","followed","isFetching","followingInProgress","onFollow","userId","onUnfollow","toggleIsFetching","onChangePage","pageNumber","setTotalUserscount","count","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","follow","userApi","getFollowed","unfollow","getUnfollowed","requestUsers","getUsers","data","usersReducer","filter","module","exports","withAuthRedirect","Component","connect","isAuth","auth","props","to","instance","axios","baseURL","withCredentials","headers","get","then","response","post","delete","authAPI","me","login","email","password","rememberMe","singOut","profileAPI","showProfile","currentUserId","getStatus","setStatus","status","put","Boolean","window","location","hostname","match","setAuthUserData","authMe","authReducer","isInitialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Settings","News","Music","Header","className","s","header","src","alt","HeaderContainer","this","React","Navbar","classes","nav","item","activeClassName","active","SingOut","onClick","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","styles","formError","loginMe","errorMessage","length","stopSubmit","_error","reresultCode","formData","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","initialize","fallback","path","render","withRouter","promis","Promise","all","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","Textarea","input","meta","hasError","touched","formControl","value","maxLength","Preloader","preloader","posts","likesCounts","profile","addPostActionCreator","newPostText","setUserProfiles","getUserStatus","updateStatus"],"mappings":"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","file":"static/js/main.792e9cc6.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSSAGE_TEXT = 'UPDATE-NEW-MESSSAGE-TEXT';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'User1',\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'User2',\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'User3',\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'User4',\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'User5',\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'User6',\r\n        },\r\n    ],\r\n    messages: [\r\n        {\r\n            id: 1,\r\n            message: 'Message1',\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'Message2',\r\n        },\r\n        {\r\n            id: 3,\r\n            message: 'Message3',\r\n        },\r\n        {\r\n            id: 4,\r\n            message: 'Message4',\r\n        },\r\n        {\r\n            id: 5,\r\n            message: 'Message5',\r\n        },\r\n        {\r\n            id: 6,\r\n            message: 'Message6',\r\n        },\r\n    ],\r\n    newMessageText: '',\r\n\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messages: [...state.messages, {\r\n                    id: 7,\r\n                    message: action.newMessageText\r\n                }]\r\n            }\r\n        }\r\n\r\n        case UPDATE_NEW_MESSSAGE_TEXT:\r\n            return {...state, newMessageText: action.newText};\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const onSendMessage = (newMessageText) => {\r\n    return {type: SEND_MESSAGE, newMessageText}\r\n};\r\nexport const onChangeNewMessage = (text) => {\r\n    return {\r\n        type: UPDATE_NEW_MESSSAGE_TEXT,\r\n        newText: text,\r\n    }\r\n};\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, propName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[propName] === itemId)\r\n            return {...u, ...newObjProps}\r\n        return u;\r\n    })\r\n}","import React from 'react';\r\nimport {userApi} from '../api/api';\r\nimport {updateObjectInArray} from '../components/common/ObjectsHelper';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst UPDATE_PAGE_NUMBER = 'UPDATE_PAGE_NUMBER';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    totalCount: null,\r\n    usersCount: 100,\r\n    currentPage: 1,\r\n    users: [],\r\n    followed: false,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state, users: updateObjectInArray(state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state, users: updateObjectInArray(state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            };\r\n        case UPDATE_PAGE_NUMBER:\r\n            return {\r\n                ...state, currentPage: action.pageNumber\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalCount: action.count\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const onFollow = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n};\r\nexport const onUnfollow = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\n\r\nexport const onChangePage = (pageNumber) => {\r\n    return {type: UPDATE_PAGE_NUMBER, pageNumber}\r\n};\r\n\r\nexport const setTotalUserscount = (count) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count}\r\n};\r\n\r\nexport const toggleFollowingInProgress = (followingInProgress, userId) => {\r\n    return {type: TOGGLE_FOLLOWING_IN_PROGRESS, followingInProgress, userId}\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    const data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n\r\n}\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userApi.getFollowed, onFollow)\r\n};\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userApi.getUnfollowed, onUnfollow)\r\n};\r\n\r\nexport const requestUsers = (pageNumber, usersCount) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(onChangePage(pageNumber))\r\n    const data = await userApi.getUsers(pageNumber, usersCount)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUserscount(data.totalCount))\r\n    dispatch(toggleIsFetching(false))\r\n};\r\n\r\n\r\nexport default usersReducer;","module.exports = \"data:image/gif;base64,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\"","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let RedirectComponent = (props) => {\r\n        if (!props.isAuth) {return <Redirect to={'/login'}/>}\r\n        return <Component {...props}/>\r\n    }\r\n\r\n    let mapStateToPropsForRedirect = (state) => ({  isAuth: state.auth.isAuth, });\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__Ull8X\",\"user\":\"Users_user__gOxLG\",\"usersPhotoAndButton\":\"Users_usersPhotoAndButton__id9O4\",\"userInfo\":\"Users_userInfo__zV81A\",\"fullName_status\":\"Users_fullName_status__2Yje7\",\"fullName\":\"Users_fullName__1IG0y\",\"status\":\"Users_status__13Kyf\",\"pageNumberActive\":\"Users_pageNumberActive__2rYjA\",\"pageNumbers\":\"Users_pageNumbers__1z4WS\",\"preloader\":\"Users_preloader__1QTa3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1LLVW\",\"active\":\"Navbar_active__20t73\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '0e2df2cb-ce14-490e-aeec-e1a6552927e0'}\r\n\r\n});\r\n\r\nexport const userApi = {\r\n    getUsers(currentPage = 1, usersCount = 100) {\r\n        return instance.get(`users?page=${currentPage}&count=${usersCount}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getFollowed(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    getUnfollowed(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`).then(response => response.data)\r\n\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n\r\n    singOut() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    showProfile(currentUserId) {\r\n        return instance.get(`profile/` + currentUserId)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`/profile/status/`+userId)\r\n\r\n    },\r\n\r\n    setStatus(status) {\r\n        return instance.put(`/profile/status/`, {status})\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__36uJ6\",\"error\":\"FormControl_error__33EYI\",\"formError\":\"FormControl_formError__3ebtl\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import {authAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA';\r\n\r\nlet initialState = {\r\n    login: null,\r\n    email: null,\r\n    userId: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n       return {\r\n        type: SET_AUTH_USER_DATA, data: {userId, login, email, isAuth}\r\n\r\n    }\r\n};\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n      const data = await authAPI.me()\r\n            if (data.resultCode === 0) {\r\n                let { id, login, email } = data.data;\r\n                               dispatch(setAuthUserData(id, login, email, true ));\r\n            }\r\n\r\n}\r\n\r\nexport const loginMe = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) { dispatch(authMe()) }\r\n    else { let errorMessage = response.data.messages.length > 0 ? response.data.messages[0]\r\n        : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: errorMessage}))\r\n    }\r\n\r\n}\r\n\r\nexport const singOut = () => async (dispatch) => {\r\nconst response = await authAPI.singOut()\r\n    if (response.data.reresultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {authAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\nimport {authMe} from './authReducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    isInitialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isInitialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n    }\r\n\r\n\r\n};\r\n\r\nexport const initialize = () => (dispatch) => {\r\n    let promis = dispatch(authMe());\r\n    Promise.all([promis])\r\n        .then(\r\n            dispatch(initializedSuccess())\r\n        )\r\n}\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from './appReducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport s from  './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from  './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from  './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n      return <header className={s.header}>\r\n        <img src='https://vashservice.ua/image/image-remont-notebook-hp.jpg' alt=''/>\r\n        <div className={s.login}>\r\n            {props.isAuth ? <div>{props.login}</div>\r\n            : <NavLink to='/login'>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {authMe, setAuthUserData} from '../../redux/authReducer';\r\nimport {withAuthRedirect} from '../hoc/withAuthRedirect';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.authMe()\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    login: state.auth.login,\r\n    email: state.auth.email,\r\n    userId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, authMe})(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst Navbar = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n            <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div  className={classes.item}>\r\n            <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n        </div>\r\n        <div  className={classes.item}>\r\n            <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n        </div>\r\n        <div  className={classes.item}>\r\n            <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n    </nav>\r\n\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {connect} from 'react-redux';\r\nimport {loginMe, singOut} from '../redux/authReducer';\r\nimport {Input} from '../components/common/formsControl';\r\nimport {required} from '../components/common/validators';\r\nimport styles from '../components/common/FormControl.module.css'\r\n\r\nconst LoginForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder='email'\r\n                   name='email'\r\n                   component={Input}\r\n                   type='text'/>\r\n        </div>\r\n        <div><Field placeholder='password'\r\n                    name='password'\r\n                    component={Input}\r\n                    type='password'\r\n                    validate={[required]}>\r\n        </Field>\r\n        </div>\r\n        <div>\r\n            <Field name='rememberMe'\r\n                   component='input'\r\n                   type='checkbox'\r\n                   validate={[required]}>\r\n            </Field>\r\n            remember me\r\n        </div>\r\n        { props.error && <div className={styles.formError}>\r\n            {props.error}\r\n        </div>}\r\n        <div>\r\n            <button>Sing in</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst SingOut = (props) => {\r\n    return <button onClick={props.singOut}>Sing out </button>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onFormSubmit = (formData) => {\r\n        let {email, password, rememberMe} = formData;\r\n        props.loginMe(email, password, rememberMe);\r\n    }\r\n\r\n    return <>\r\n        <h1>LOGIN</h1>\r\n        {props.isAuth ? <SingOut singOut={props.singOut}/>\r\n            : <LoginReduxForm onSubmit={onFormSubmit}/>\r\n\r\n        }\r\n    </>\r\n}\r\nexport default connect(mapStateToProps, {loginMe, singOut})(Login);","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport Settings from './components/Settings/Settings';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport {Route, withRouter} from 'react-router-dom';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import UsersContainer from './components/Users/UsersContainer'\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\n\r\n\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Login from './login/login';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport {initialize} from './redux/appReducer';\r\nimport {Preloader} from './components/common/preloader';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n    this.props.initialize()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isInitialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Suspense fallback={<Preloader/>}>\r\n                    <Route path='/profile/:userId?'\r\n                           render={() => <ProfileContainer/>}\r\n                    />\r\n                    <Route path='/dialogs'\r\n                           render={() => <DialogsContainer/>}\r\n                    />\r\n                    <Route path='/users'\r\n                           render={() => <UsersContainer/>}\r\n                    />\r\n                    </Suspense>\r\n                    <Route path='/login'\r\n                           render={() => <Login/>}\r\n                    />\r\n                    <Route path='/settings' component={Settings}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/music' component={Music}/>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isInitialized: state.app.isInitialized,\r\n})\r\n\r\n\r\n\r\nexport default compose (\r\n    withRouter,\r\n    connect(mapStateToProps, {initialize}))\r\n(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport store from './redux/reduxStore';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux';\r\n\r\n    ReactDOM.render(\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>,\r\n        document.getElementById('root')\r\n    )\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n","import React from 'react';\r\nimport styles from './FormControl.module.css'\r\n\r\nexport const FormControl = ({input, meta, ...props}) => {\r\n    let Element = props.fieldType\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl+' '+ (hasError && styles.error)}>\r\n            <props.fieldType {...input} {...props}/>\r\n            { hasError && <div><span>{meta.error}</span></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea= ({input, meta, ...props}) => {\r\nconst hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl+' '+ (hasError && styles.error)}>\r\n            <textarea {...input} {...props}/>\r\n            { hasError && <div><span>{meta.error}</span></div>}\r\n        </div>\r\n    )\r\n}\r\nexport const Input= ({input, meta, ...props}) => {\r\nconst hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl+' '+ (hasError && styles.error)}>\r\n            <input {...input} {...props}/>\r\n            { hasError && <div><span>{meta.error}</span></div>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if (value.length > maxLength) {\r\n        return `Max length is ${maxLength} symbols`;\r\n    }\r\n    return undefined\r\n}","import React from 'react';\r\nimport preloader from '../../images/preloader.gif';\r\nimport s from './../Users.module.css'\r\n\r\nexport const Preloader = (props) => {\r\n    return <div ><img src={preloader} alt=''/></div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Fq7v\",\"login\":\"Header_login__2yn33\"};","import {profileAPI} from '../api/api';\r\n\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst UPDATE_STATUS = 'UPDATE_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            message: 'It\\'s my first post',\r\n            likesCounts: 15,\r\n        },\r\n        {\r\n            message: 'Hi, how are you?',\r\n            likesCounts: 25,\r\n        },\r\n\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,\r\n                    {\r\n                        message: action.newPostText,\r\n                        likesCounts: 0,\r\n                    }],\r\n            }\r\n        }\r\n        case UPDATE_NEW_POST_TEXT: {\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case UPDATE_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {type: ADD_POST, newPostText}\r\n}\r\n\r\nexport const setUserProfiles = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n};\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: UPDATE_STATUS, status\r\n    }\r\n};\r\n\r\nexport const showProfile = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.showProfile(userId)\r\n    dispatch(setUserProfiles(data))\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.setStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n}\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}