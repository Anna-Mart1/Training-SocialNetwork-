{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","images/userPhoto.jpg","components/common/Paginator.module.css","../node_modules/classnames/index.js","components/Users/User.jsx","components/Users/Users.jsx","redux/selectors.js","components/common/Paginator.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","inner","apply","key","call","join","default","User","user","unfollow","follow","followingInProgress","className","s","usersPhotoAndButton","to","id","alt","src","photos","small","userPhotoDefault","usersPhoto","followed","disabled","some","onClick","userInfo","fullName_status","fullName","name","status","Users","props","users","map","u","getUsers","state","usersPage","getCurrentPage","currentPage","getTotalCount","totalCount","getUsersCount","usersCount","getIsFetching","isFetching","getFollowingInProgress","Paginator","totalItemsCount","pageSize","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPotionPageNumber","rightPotionPageNumber","styles","paginator","filter","p","cn","selectedPage","pageNumber","e","UsersContainer","setUsersCurrentPage","onChangePage","requestUsers","this","preloader","React","Component","compose","connect","setTotalUserscount","toggleIsFetching","withAuthRedirect"],"mappings":"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","file":"static/js/4.bc247b4c.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/userPhoto.5679d6c1.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__o5qE6\",\"pageNumber\":\"Paginator_pageNumber__37yjn\",\"selectedPage\":\"Paginator_selectedPage__wd_Zq\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\r\nimport s from './../Users.module.css'\r\nimport userPhotoDefault from '../../images/userPhoto.jpg'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nexport const User = ({user, unfollow, follow, followingInProgress}) => {\r\n    return (<div className={s.user}>\r\n            <div className={s.usersPhotoAndButton}>\r\n                <NavLink to={`/profile/${user.id}`}><img\r\n                    alt=''\r\n                    src={user.photos.small != null\r\n                        ? user.photos.small : userPhotoDefault}\r\n                    className={s.usersPhoto}/>\r\n                </NavLink>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  unfollow(user.id)\r\n                              }\r\n                              }> Unfollow </button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id)\r\n                              }\r\n                              }> Follow</button>\r\n                }\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div className={s.fullName_status}>\r\n                    <div className={s.fullName}>\r\n                        {user.name} <br/>\r\n                        {'lastName'}</div>\r\n                    <div className={s.status}>{user.status}</div>\r\n                </div>\r\n                <div>\r\n                    {'location.cityName'} <br/>\r\n                    {'location.countryName'}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {User} from './User';\r\n\r\nexport const Users = (props) => {\r\n    return (<>\r\n            {props.users.map(u => {\r\n                return <User key={u.id}\r\n                             user={u} unfollow={props.unfollow}\r\n                             follow={props.follow}\r\n                             followingInProgress={props.followingInProgress}/>\r\n            }\r\n            )}\r\n\r\n        </>\r\n    )\r\n}","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalCount\r\n}\r\nexport const getUsersCount = (state) => {\r\n    return state.usersPage.usersCount\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nexport const Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize=10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPotionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPotionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n            onPageChanged( rightPotionPageNumber - portionSize*2 +1 )\r\n        }}> PREV </button>}\r\n\r\n        { pages\r\n            .filter(p => p >= leftPotionPageNumber && p <= rightPotionPageNumber)\r\n            .map(p => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n        <button onClick={ ()=>{\r\n            setPortionNumber( portionNumber+1);\r\n            onPageChanged((portionNumber ) * portionSize + 1)\r\n        }}> NEXT </button>}\r\n    </div>\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Users} from './Users';\r\nimport {\r\n    onChangePage,\r\n    setTotalUserscount,\r\n    toggleIsFetching, follow, unfollow, requestUsers,\r\n} from '../../redux/usersReducer';\r\nimport {Preloader} from '../common/preloader';\r\nimport s from './../Users.module.css'\r\nimport {withAuthRedirect} from '../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getTotalCount, getUsers,\r\n    getUsersCount} from '../../redux/selectors';\r\nimport {Paginator} from '../common/Paginator';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, usersCount} = this.props;\r\n        this.props.requestUsers(currentPage, usersCount);\r\n    }\r\n\r\n    setUsersCurrentPage = (pageNumber) => {\r\n        const {usersCount} = this.props;\r\n        this.props.onChangePage(pageNumber)\r\n        this.props.requestUsers(pageNumber, usersCount);\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        return (<>\r\n            <div className={s.preloader}>{this.props.isFetching ? <Preloader/> : null} </div>\r\n            <Paginator totalItemsCount={this.props.totalCount}\r\n                        pageSize={this.props.usersCount}\r\n           currentPage={this.props.currentPage}\r\n                        onPageChanged={this.setUsersCurrentPage}/>\r\n            <Users {...this.props} setUsersCurrentPage={() => this.setUsersCurrentPage}/>\r\n        </>)\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalCount: getTotalCount(state),\r\n        usersCount: getUsersCount(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {requestUsers, onChangePage, setTotalUserscount, toggleIsFetching, follow, unfollow,}),\r\n    withAuthRedirect\r\n)(UsersContainer);\r\n"],"sourceRoot":""}